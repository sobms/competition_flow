schema: '2.0'
stages:
  prepare:
    cmd: python -m ml.prepare_data
    deps:
    - path: ml/prepare_data.py
      hash: md5
      md5: 9d35761da370ff9aae9d48e6a0e4e19c
      size: 455
    outs:
    - path: data/raw
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  split:
    cmd: python -m ml.make_split
    deps:
    - path: data/raw
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: ml/make_split.py
      hash: md5
      md5: 8da3dd1f417e76255e30a3f53c0971fe
      size: 690
    outs:
    - path: data/splits
      hash: md5
      md5: a6bcb0d6b3f74977712a4f779dc2b866.dir
      size: 1687881
      nfiles: 3
  features:
    cmd: python -m ml.build_features
    deps:
    - path: data/splits
      hash: md5
      md5: a6bcb0d6b3f74977712a4f779dc2b866.dir
      size: 1687881
      nfiles: 3
    - path: ml/build_features.py
      hash: md5
      md5: 72232b76449c195afeff7e31ea713691
      size: 630
    outs:
    - path: data/features
      hash: md5
      md5: 11692040f926f32cd18530d782ecc96d.dir
      size: 1568848
      nfiles: 2
  train:
    cmd: python -m ml.train model=lgbm
    deps:
    - path: data/features
      hash: md5
      md5: 11692040f926f32cd18530d782ecc96d.dir
      size: 1568848
      nfiles: 2
    - path: ml/train.py
      hash: md5
      md5: 55156ae6991bb4605e3a863b1207e722
      size: 2804
    outs:
    - path: artifacts/metrics.json
      hash: md5
      md5: 4c69166572a31087fa08b21cece99c08
      size: 211
    - path: artifacts/model
      hash: md5
      md5: c5f284c852f97a73493527b2dfa2ba3a.dir
      size: 2335825
      nfiles: 1
  infer:
    cmd: python -m ml.infer model=lgbm
    deps:
    - path: artifacts/model
      hash: md5
      md5: c5f284c852f97a73493527b2dfa2ba3a.dir
      size: 2335825
      nfiles: 1
    - path: ml/infer.py
      hash: md5
      md5: 45f63c406b921458159708e7a3d619e4
      size: 1800
    outs:
    - path: artifacts/preds_test.parquet
      hash: md5
      md5: 2a52d2a3382e18052225b00a756e2c48
      size: 66495
